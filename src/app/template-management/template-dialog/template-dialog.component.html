<h2 mat-dialog-title class="text-center">{{ isNew ? 'Create Template' : 'Edit Template' }}</h2>

<mat-dialog-content class="p-4">
    <div class="mb-3">
        <mat-form-field appearance="fill" class="w-100">
            <mat-label>Template Name</mat-label>
            <input matInput [(ngModel)]="template.name" placeholder="Enter Template Name" />
        </mat-form-field>
    </div>

    <div *ngFor="let section of template.sections | keyvalue" class="mb-3 d-flex align-items-center">
        <mat-form-field appearance="fill" class="flex-grow-1 mr-3">
            <mat-label>Section: {{ section.key }}</mat-label>
            <input matInput [(ngModel)]="template.sections[section.key]" (click)="editSection(section.key)" placeholder="Enter Section Value" />
        </mat-form-field>

        <button mat-icon-button (click)="removeSection(section.key)" class="btn btn-danger">
            <mat-icon>delete</mat-icon>
        </button>
    </div>

    <div class="mb-3">
        <button mat-raised-button color="accent" (click)="addSection()" class="btn btn-secondary w-100">
            Add Section
        </button>
    </div>

    <div class="d-flex justify-content-center">
        <button mat-raised-button [mat-dialog-close]="this.template" color="primary" class="btn btn-primary mx-2">
            Save
        </button>
        <button mat-raised-button mat-dialog-close class="btn btn-secondary mx-2">
            Cancel
        </button>
      <button *ngIf="!isNew" mat-raised-button color="warn" (click)="confirmDelete()" class="btn btn-danger mx-2">
        Delete
      </button>
    </div>
</mat-dialog-content>
